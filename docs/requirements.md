# ブラウザBIツール 要件定義書

## 1. プロジェクト概要

### 1.1 プロジェクト名
**Browser BI Tool** - ブラウザ完結型ビジネスインテリジェンスツール

### 1.2 プロジェクト目的
サーバー不要でブラウザのみで動作する、データ可視化・分析ツールを開発する。
ユーザーが手元のCSV/Excelファイルを簡単にインポートし、豊富なチャートで可視化、
PowerPoint/Excelへのエクスポートまでをワンストップで実現する。

### 1.3 ターゲットユーザー
- ビジネスアナリスト
- マーケティング担当者
- プロジェクトマネージャー
- データを素早く可視化したい一般ビジネスユーザー

### 1.4 開発環境
- ホスティング: GitHub Pages
- フロントエンドのみ（バックエンド不要）
- オフライン動作対応

---

## 2. 機能要件

### 2.1 データインポート機能

| 機能ID | 機能名 | 説明 | 優先度 |
|--------|--------|------|--------|
| IMP-001 | CSVインポート | CSVファイルをドラッグ&ドロップまたはファイル選択で読み込み | 必須 |
| IMP-002 | Excelインポート | .xlsx/.xlsファイルの読み込み（SheetJS使用） | 必須 |
| IMP-003 | JSONインポート | JSONファイルの読み込み | 中 |
| IMP-004 | データプレビュー | インポートしたデータのテーブル形式プレビュー | 必須 |
| IMP-005 | データ型自動判定 | 数値、日付、文字列等のデータ型自動検出 | 必須 |
| IMP-006 | シート選択 | Excelの複数シートからの選択 | 必須 |

### 2.2 チャート機能

#### 2.2.1 基本チャート
| 機能ID | チャート種別 | 説明 | 優先度 |
|--------|--------------|------|--------|
| CHT-001 | 棒グラフ | 縦棒・横棒・積み上げ棒 | 必須 |
| CHT-002 | 折れ線グラフ | 線・面・エリア | 必須 |
| CHT-003 | 円グラフ | パイ・ドーナツ | 必須 |
| CHT-004 | 散布図 | X-Y散布・バブル | 中 |
| CHT-005 | 面グラフ | エリアチャート | 中 |

#### 2.2.2 高度なチャート
| 機能ID | チャート種別 | 説明 | 優先度 |
|--------|--------------|------|--------|
| CHT-006 | 組合せチャート | 棒＋折れ線等の複合グラフ | 必須 |
| CHT-007 | レーダーチャート | スパイダーチャート | 中 |
| CHT-008 | ヒートマップ | 色分けマトリックス | 低 |
| CHT-009 | ツリーマップ | 階層データの可視化 | 低 |
| CHT-010 | サンキー図 | フロー・遷移の可視化 | 低 |
| CHT-011 | ゲージチャート | KPIインジケーター | 中 |
| CHT-012 | ウォーターフォール | 増減の可視化 | 低 |

#### 2.2.3 インタラクティブ機能
| 機能ID | 機能名 | 説明 | 優先度 |
|--------|--------|------|--------|
| INT-001 | ズーム/パン | チャートの拡大縮小・移動 | 中 |
| INT-002 | ツールチップ | データポイントのホバー詳細表示 | 必須 |
| INT-003 | 凡例操作 | 凡例クリックでシリーズ表示/非表示 | 必須 |
| INT-004 | ドリルダウン | 詳細データへの階層移動 | 低 |

### 2.3 フィルター・スライサー機能

| 機能ID | 機能名 | 説明 | 優先度 |
|--------|--------|------|--------|
| FLT-001 | ドロップダウンフィルター | カラム値によるドロップダウン選択フィルタ | 必須 |
| FLT-002 | 範囲スライサー | 数値範囲の指定（スライダー） | 必須 |
| FLT-003 | 日付スライサー | 日付範囲の指定（カレンダー/スライダー） | 必須 |
| FLT-004 | テキスト検索フィルター | 文字列部分一致フィルタ | 中 |
| FLT-005 | マルチセレクト | 複数値の選択フィルタ | 必須 |
| FLT-006 | フィルター連動 | 複数チャートへのフィルター同時適用 | 必須 |
| FLT-007 | フィルターリセット | 全フィルターの一括解除 | 必須 |

### 2.4 エクスポート機能

| 機能ID | 機能名 | 説明 | 優先度 |
|--------|--------|------|--------|
| EXP-001 | PNG出力 | チャートを画像として保存 | 必須 |
| EXP-002 | SVG出力 | ベクター形式での保存 | 中 |
| EXP-003 | Excelエクスポート | データ＋チャートをExcelファイルとして出力 | 必須 |
| EXP-004 | PowerPointエクスポート | チャートをスライドとして出力 | 必須 |
| EXP-005 | PDFエクスポート | レポート形式でのPDF出力 | 低 |

### 2.5 ダッシュボード機能

| 機能ID | 機能名 | 説明 | 優先度 |
|--------|--------|------|--------|
| DSH-001 | マルチチャート配置 | 複数チャートの自由配置 | 必須 |
| DSH-002 | グリッドレイアウト | ドラッグ&ドロップでのサイズ変更 | 必須 |
| DSH-003 | ダッシュボード保存 | ローカルストレージへの設定保存 | 必須 |
| DSH-004 | ダッシュボード読込 | 保存した設定の復元 | 必須 |
| DSH-005 | テンプレート | プリセットダッシュボードテンプレート | 低 |
| DSH-006 | 共有機能 | 設定ファイル（JSON）のエクスポート/インポート | 中 |

### 2.6 UI/UX機能

| 機能ID | 機能名 | 説明 | 優先度 |
|--------|--------|------|--------|
| UIX-001 | レスポンシブデザイン | PC/タブレット/スマホ対応 | 必須 |
| UIX-002 | ダークモード | テーマ切り替え | 低 |
| UIX-003 | 日本語対応 | UI全体の日本語表示 | 必須 |
| UIX-004 | キーボードショートカット | 主要操作のショートカット | 低 |
| UIX-005 | ヘルプ/チュートリアル | 使い方ガイド | 低 |

---

## 3. 非機能要件

### 3.1 パフォーマンス
- データ10,000行以内でスムーズに動作
- チャート描画は2秒以内
- ファイルインポートは5秒以内

### 3.2 セキュリティ
- 全データはクライアントサイドで処理（サーバー送信なし）
- 機密データの安全な取り扱い

### 3.3 互換性
- Chrome（最新版）
- Firefox（最新版）
- Safari（最新版）
- Edge（最新版）

### 3.4 保守性
- モジュール化されたコード構造
- コメントによる文書化
- コードレビュー可能な品質

---

## 4. 技術スタック

### 4.1 推奨構成（Gemini提案）

| カテゴリ | 技術 | 選定理由 |
|----------|------|----------|
| チャートライブラリ | **ECharts** | 高度なチャート標準サポート、豊富なインタラクティブ機能 |
| Excelエクスポート | **SheetJS (xlsx)** | 高機能かつ安定、読み込み・書き込み両対応 |
| PowerPointエクスポート | **pptxgenjs** | デファクトスタンダード、豊富なスライド機能 |
| UIフレームワーク | **Vue.js + Vite** | 学習コストと開発効率のバランス、GitHub Pages対応 |
| 状態管理 | **Pinia** | Vue公式、シンプルかつ強力 |
| CSSフレームワーク | **TailwindCSS** | ユーティリティファーストで柔軟 |

### 4.2 代替構成（Vanilla JS）

ビルドプロセスを簡略化したい場合：
- チャート: ECharts
- 状態管理: カスタム Store パターン
- CSS: 純CSS or Bootstrap

---

## 5. 開発フェーズ

### Phase 1: MVP（最小限の機能）
- CSV/Excelインポート
- 基本チャート（棒・折れ線・円）
- PNG出力
- シンプルなフィルター

### Phase 2: コア機能
- 組合せチャート
- 高度なフィルター・スライサー
- Excelエクスポート
- ダッシュボード基本機能
- ローカルストレージ保存

### Phase 3: 拡張
- 高度なチャート（ヒートマップ、サンキー等）
- PowerPointエクスポート
- ダッシュボード共有機能
- ドリルダウン

---

## 6. 競合分析

### 6.1 差別化ポイント
| 競合ツール | 本ツールの優位性 |
|------------|------------------|
| Metabase/Redash | DB不要、ファイルから即分析可能 |
| Google Data Studio | アカウント不要、オフライン動作、プライバシー保護 |
| Tableau Public | インストール不要、軽量 |

### 6.2 本ツールの強み
- **ゼロインストール**: URLアクセスのみで利用可能
- **高セキュリティ**: データ外部送信なし
- **低コスト**: サーバー費用ゼロ（GitHub Pages）
- **手軽さ**: ファイルドロップで即可視化

### 6.3 本ツールの制約
- 大規模データ（数万行以上）には不向き
- DBへの直接接続不可
- リアルタイム共同編集不可

---

## 7. 更新履歴

| 日付 | 版 | 更新内容 |
|------|-----|----------|
| 2025-12-09 | 1.0 | 初版作成 |
